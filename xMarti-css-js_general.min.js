/*!
----------------------------------------------------------------------------------------------------
* Important! - To edit this JS, you must use the JS source file.

* General Script - Iv√°n Luna [RE]
* ivanluna.re@outlook.com
----------------------------------------------------------------------------------------------------
*/
"use strict";function load_svg(){/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&$("svg").each(function(){var t=$(this);if(void 0===t.find("use").attr("xlink:href")&&void 0===t.attr("xmlns")){var e=t.find("use").attr("href"),a=t.attr("class"),r=t.attr("id");t.before('<svg id="'+r+'" class="'+a+'"><use xlink:href="'+e+'"></use></svg>'),t.remove()}})}function load_searchbar(){currentDept="0",enableFullTextSearchBox("searchbarInput1","searchbarSelect1","searchbarHidden1","searchbarButton1","/SEARCHTERM","Buscar")}function load_nav_products(){$(".nav-product-item-container .nav-product-item").each(function(){var t=$(this);t.prependTo(t.parent().parent().parent().parent()),t.find("img").addClass("img-centrada")}),$(".nav-product-item-container .prateleira.vitrine").remove()}function load_skus(){$(".product-item .product-item__skus").not(".checked").each(function(){var t=$(this);t.addClass("checked item"+gndx),t.closest(".product-item").attr("data-index",gndx).find(".js-buy-plp").attr("data-index",gndx),load_sku_index(parseInt(t.attr("data-id")),parseInt(t.attr("data-sku")),gndx),gndx++})}function load_sku_index(m,_,v){vtexjs.catalog.getProductWithVariations(m).done(function(t){var c="",n="Sin stock",l="",u="",p=0;($.each(t.skus,function(t,e){if(void 0!==e.dimensions.Color){var a=e.sku,r=e.bestPriceFormated,i=e.listPriceFormated,o=e.dimensions.Talla;u=e.dimensions.Color.replace(/\s/g,"-").toLowerCase(),c!=e.dimensions.Color&&(c=e.dimensions.Color,color_sku=e.sku),e.available&&(n=r,l=i);var s="";if(0==e.available)s="disabled";var d="";e.sku==parseInt(_)&&(d="active"),0==$(".item"+v+" .product-item__colors .product-item__color."+u).length&&$(".item"+v+" .product-item__colors").append('<div class="product-item__color '+u+'" data-sku="'+color_sku+'" data-id="'+m+'" data-color="'+u+'" data-img="'+e.image.replace("292-292","500-281.25")+'" title="'+c+'">'+c+"</div>"),0==$(".item"+v+" .product-item-size .size-"+u).length&&$(".item"+v+" .product-item-size").append('<select class="size size-'+u+'" data-color="size-'+u+'"><option value="">Talla</option></select>'),""!=d&&($(".item"+v+" .product-item-size .size-"+u).addClass(d),$(".item"+v+" .product-item__colors .product-item__color."+u).addClass(d)),(void 0===$(".item"+v+" .product-item__colors .product-item__color."+u).attr("data-price")||e.available)&&$(".item"+v+" .product-item__colors .product-item__color."+u).attr("data-price",n).attr("data-listprice",l),$(".item"+v+" .product-item-size .size-"+u).append("<option "+s+'  value="'+a+'" data-listprice="'+i+'" data-price="'+r+'">'+o+"</option>"),n="Sin stock",l="",p++}}),1<t.skus.length)&&(t.skus.length===p&&$(".item"+v).addClass("is-displayed"))})}var gndx=0,show_select=!1;$(function(){$("form.search-form").on("submit",function(t){t.preventDefault()}),load_searchbar(),load_svg(),$('a[href="#"],a[href=""]').click(function(t){return t.preventDefault(),!1}),$(".footer__collapse--title").on("click",function(t){t.preventDefault(),$(this).closest(".footer__collapse").find(".footer__collapse--content").stop(!0,!0).slideToggle(500),$(this).toggleClass("active")}),$("body").on("mouseenter",".product-item",function(){var t=$(this).find('.product-item__skus:not(".checked")');t.length&&(t.addClass("checked item"+gndx),t.closest(".product-item").attr("data-index",gndx).find(".js-buy-plp").attr("data-index",gndx),load_sku_index(parseInt(t.attr("data-id")),parseInt(t.attr("data-sku")),gndx),gndx++)}),$("body").on("click","#items-wrapper .remove ",function(t){t.preventDefault();var a=$(this).attr("data-index");vtexjs.checkout.getOrderForm().then(function(t){var e=t.items[a];return e.index=a,vtexjs.checkout.removeItems([e])}).done(function(){update_minicart()})}),$("body").on("click",".sku-pi:not(.disabled)",function(){var t=$(this);if(""!=t.attr("value")){var e=t.closest(".product-item__skus").attr("data-id"),a=t.attr("data-listprice"),r=t.attr("data-price"),i="";"$0.00"==a?i+='<span class="price-new">'+r+"</span>":(i+='<span class="price-new price-promo">'+r+"</span> ",i+=' <span class="price-old">'+a+"</span>"),$('.product-item .product-item__price[data-id="'+e+'"]').empty().html(i)}var o=t.attr("value"),s=t.html();""!=o&&(t.closest(".product-item").find(".js-buy-plp").attr("data-skuid",o),t.closest(".product-item").find(".product-item__name a").append(" Talla "+s),t.closest(".product-item").find(".product-item__action").slideDown(300),t.closest(".product-item").addClass("show-buy"),t.closest(".product-item").addClass("show-temp"),t.closest(".product-item__skus").slideUp(300),setTimeout(function(){t.closest(".product-item").removeClass("show-temp")},3e3))}),$("body").on("click",".product-item__colors .product-item__color",function(){var t,e=$(this),a=e.attr("data-img"),r=e.attr("data-id"),i=e.attr("data-color");$('.product-item__main-image[data-id="'+r+'"] img').attr("src",a),$('.product-item__colors[id="product-item__colors-'+r+'"] .product-item__color').removeClass("active"),$('.product-item__colors[id="product-item__colors-'+r+'"] .product-item__color.'+i).addClass("active"),$('.product-item__skus[data-id="'+r+'"] .size').removeClass("active"),$('.product-item__skus[data-id="'+r+'"] .size-'+i).addClass("active");var o=(t=e).attr("data-listprice"),s=t.attr("data-price"),d="";"$0.00"==o?d+='<span class="price-new">'+s+"</span>":(d+='<span class="price-new price-promo">'+s+"</span> ",d+=' <span class="price-old">'+o+"</span>"),$('.product-item .product-item__price[data-id="'+r+'"]').empty().html(d)}),$("body").on("click",".js-buy-plp",function(t){t.preventDefault();var e=$(this),s=(e.attr("data-index"),e.attr("data-id"),e.attr("data-skuid"));""!=s?$.ajax({url:"/checkout/cart/add?sku="+s+"&qty=1&seller=1&redirect=false&sc=1",type:"get",success:function(){vtexjs.checkout.getOrderForm().done(function(t){$.each(t.items,function(t,e){if(s==e.id){var a=e.productCategoryIds.split("/");a=a[a.length-2];var r=e.productCategories[a],i=e.name,o=[{name:e.name,id:""+e.id,price:""+e.sellingPrice/100,brand:e.additionalInfo.brandName,category:r,variant:i,quantity:1}];return"undefined"!=typeof dt_addToCart&&dt_addToCart(o),!1}}),"ga"in window&&(tracker=ga.getAll()[0],tracker&&tracker.send("event","AddToCart","added PLP","AB Test",1)),crearCarritoLightBox(t,s)})}}):alert("Selecciona la talla deseada")}),-1!=window.location.href.indexOf("vtex")&&$(function(){var t=0,e=setInterval(function(){(30<=t||$("#vtex-callcenter").length)&&(clearInterval(e),$("#vtex-callcenter").length&&$("body").addClass("callcenter")),t++},300)}),load_nav_products()});var currentYear=function(t){var e=(new Date).getFullYear();$(t).html(e)};currentYear(".year");